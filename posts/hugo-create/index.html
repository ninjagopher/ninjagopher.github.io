<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Hugo 博客搭建（2025） | NJGF</title>
<meta name="keywords" content="">
<meta name="description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤
本地部署
这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的">
<meta name="author" content="">
<link rel="canonical" href="https://ninjagopher.github.io/posts/hugo-create/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ninjagopher.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ninjagopher.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ninjagopher.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ninjagopher.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://ninjagopher.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://ninjagopher.github.io/posts/hugo-create/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://ninjagopher.github.io/posts/hugo-create/">
  <meta property="og:site_name" content="NJGF">
  <meta property="og:title" content="Hugo 博客搭建（2025）">
  <meta property="og:description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤
本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-04-06T21:37:44+08:00">
    <meta property="article:modified_time" content="2025-04-06T21:37:44+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hugo 博客搭建（2025）">
<meta name="twitter:description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤
本地部署
这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://ninjagopher.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Hugo 博客搭建（2025）",
      "item": "https://ninjagopher.github.io/posts/hugo-create/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hugo 博客搭建（2025）",
  "name": "Hugo 博客搭建（2025）",
  "description": "之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤\n本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的\n",
  "keywords": [
    
  ],
  "articleBody": "之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤\n本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的\n首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）\ndnf info hugo # 或者：dnf repoquery hugo 我在 GitHub 下载的最新版，通过命令解压：\ntar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz 解压后把 hugo 这个文件移动到 /usr/local/bin 目录\nsudo mv hugo /usr/local/bin 查看 Hugo 版本：\nhugo version 创建本地博客、进入博客目录\nhugo new site # 注意替换名字 cd 安装主题\n在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：\n# 注意下面的4条命令都要在博客根目录下运行 git init git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod # needed when you reclone your repo (submodules may not get cloned automatically) git submodule update --init --recursive # update git submodule update --remote --merge 然后运行下面的命令应用主题\necho \"theme = 'PaperMod'\" \u003e\u003e hugo.toml 新建一篇文章\nhugo new content ./content/posts/my-first-post.md 启动本地服务器（新建的文章默认是草稿，-D参数表示构建草稿内容）\nhugo server -D GitHub Actions 自动部署 创建一个 Public 仓库，仓库名为 .github.io，创建的时候添加一个 README.md 文件（不添加的话仓库没有分支，会影响后面的工作流），把本地目录的 hugo.toml 这个文件的 baseURL 为 https://username.github.io/\n然后再创建一个 Private 仓库，可以命名为 hugo-source-code，不需要添加任何文件\n生成SHH密钥对（rsa）用于本地连接GitHub：\nssh-keygen -t rsa -b 4096 -C 将.pub内容复制，来到GitHub的 Settings\u003e SSH and GPG Keys，点击New SSH key，填写Title，Key type 默认Authenticaiton Key，粘贴到Key的区域，点击Add SSH key\n输入下面的命令测试连接：\nssh -T git@github.com 在 ~/.ssh 目录生成SSH密钥对（ed25519）：\ncd ~/.ssh/ ssh-keygen -t ed25519 -C \"hugo-deploy-key\" -f ./hugo_deploy_key -N \"\" 复制.pub公钥的内容，到 Public 仓库 Settings \u003e Deploy keys，点击 Add deploy key，输入Title、Key，勾选“Allow write access”。 复制私钥的内容（没有扩展名的文件），到到 Private 仓库 Settings \u003e Secrets and variables \u003e Actions，点击 New repository secret，输入Name、Secret，将私钥的内容粘贴到 Secret 的区域（注意保留头尾两行，最后要有一行空行），点击 Add secret。\n回到本地 hugoblog 博客目录，新建一个 .gitignore 文件，根据情况添加内容：\n# Generated files by hugo /public/ /resources/_gen/ /assets/jsconfig.json hugo_stats.json hugo-wfl-edit.yaml # Executable may be added to repository hugo.exe hugo.darwin hugo.linux # Temporary lock file while building /.hugo_build.lock # Others .DS_Store node_modules dist tmp 创建工作流文件：\nmkdir -p .github/workflows touch .github/workflows/hugo.yaml hugo.yaml 内容，注意替换自己的信息\nname: Deploy to Public Repo on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: # Checkout - name: Checkout private repo uses: actions/checkout@v4 with: submodules: recursive fetch-depth: 0 # SSH - name: Setup SSH uses: webfactory/ssh-agent@v0.9.1 with: ssh-private-key: ${{ secrets.HUGO_DEPLOY_KEY }} # Install Hugo - name: Set up Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \"0.145.0\" # 填你的hugo版本 # Build the Hugo site - name: Build Hugo site run: hugo # Deploy to the public repo via SSH - name: Deploy to public repository run: | rm -rf deploy-repo git clone --single-branch --branch main git@github.com:/.github.io.git deploy-repo cd deploy-repo rm -rf * cp -r ../public/* . git config user.email \"example@gmail.com\" git config user.name \"username\" git add . git commit -m \"Auto deploy Hugo site $(date '+%Y-%m-%d %H:%M:%S')\" git push origin main 配置用户名和邮箱、关联远程 Private 仓库，add commit push\n# 注意替换 git config user.email “example@gmail.com” git config user.name \"username\" # 查看配置 git config -l git remote add origin git@github.com:username/hugo-source-code.git git add . git commit -m \"First commit\" git push -u origin main 然后到Private 仓库的 Actions 界面看是否 run 成功\n参考 Hugo 官网\n",
  "wordCount" : "1253",
  "inLanguage": "zh",
  "datePublished": "2025-04-06T21:37:44+08:00",
  "dateModified": "2025-04-06T21:37:44+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ninjagopher.github.io/posts/hugo-create/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NJGF",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ninjagopher.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ninjagopher.github.io/" accesskey="h" title="NJGF (Alt + H)">NJGF</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://ninjagopher.github.io/" title="NJGF">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://ninjagopher.github.io/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://ninjagopher.github.io/categories/" title="Categories">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://ninjagopher.github.io/tags/" title="Tags">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://ninjagopher.github.io/search/" title="Search">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://ninjagopher.github.io/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Hugo 博客搭建（2025）
    </h1>
    <div class="post-meta"><span title='2025-04-06 21:37:44 +0800 +0800'>四月 6, 2025</span>

</div>
  </header> 
  <div class="post-content"><p>之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤</p>
<h3 id="本地部署">本地部署<a hidden class="anchor" aria-hidden="true" href="#本地部署">#</a></h3>
<p>这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的</p>
<p>首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过<code>dnf install hugo</code>命令安装，否则到 <a href="https://github.com/gohugoio/hugo/releases">GitHub</a> 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf info hugo <span class="c1"># 或者：dnf repoquery hugo</span>
</span></span></code></pre></div><p>我在 GitHub 下载的最新版，通过命令解压：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz
</span></span></code></pre></div><p>解压后把 <strong>hugo</strong> 这个文件移动到 <em><strong>/usr/local/bin</strong></em> 目录</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo mv hugo /usr/local/bin
</span></span></code></pre></div><p>查看 Hugo 版本：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo version
</span></span></code></pre></div><p>创建本地博客、进入博客目录</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo new site &lt;hugoblog&gt; <span class="c1"># 注意替换名字</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> &lt;hugoblog&gt;
</span></span></code></pre></div><p>安装主题</p>
<p>在 <a href="https://themes.gohugo.io/">Hugo Themes</a> 找自己喜欢的主题，这里以 <a href="https://github.com/adityatelange/hugo-PaperMod">PaperMod</a> 主题举例，通过submodule的方式安装：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 注意下面的4条命令都要在博客根目录下运行</span>
</span></span><span class="line"><span class="cl">git init
</span></span><span class="line"><span class="cl">git submodule add --depth<span class="o">=</span><span class="m">1</span> https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
</span></span><span class="line"><span class="cl"><span class="c1"># needed when you reclone your repo (submodules may not get cloned automatically)</span>
</span></span><span class="line"><span class="cl">git submodule update --init --recursive
</span></span><span class="line"><span class="cl"><span class="c1"># update</span>
</span></span><span class="line"><span class="cl">git submodule update --remote --merge
</span></span></code></pre></div><p>然后运行下面的命令应用主题</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;theme = &#39;PaperMod&#39;&#34;</span> &gt;&gt; hugo.toml
</span></span></code></pre></div><p>新建一篇文章</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo new content ./content/posts/my-first-post.md
</span></span></code></pre></div><p>启动本地服务器（新建的文章默认是草稿，<code>-D</code>参数表示构建草稿内容）</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">hugo server -D 
</span></span></code></pre></div><h3 id="github-actions-自动部署">GitHub Actions 自动部署<a hidden class="anchor" aria-hidden="true" href="#github-actions-自动部署">#</a></h3>
<p>创建一个 <strong>Public</strong> 仓库，仓库名为 <em><strong>&lt;username&gt;.github.io</strong></em>，创建的时候添加一个 <strong>README.md</strong> 文件（不添加的话仓库没有分支，会影响后面的工作流），把本地目录的 <strong>hugo.toml</strong> 这个文件的 baseURL 为 <em><strong><a href="https://username.github.io/">https://username.github.io/</a></strong></em></p>
<p>然后再创建一个 <strong>Private</strong> 仓库，可以命名为 hugo-source-code，不需要添加任何文件</p>
<p>生成SHH密钥对（rsa）用于本地连接GitHub：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh-keygen -t rsa -b <span class="m">4096</span> -C &lt;username@example.com&gt;
</span></span></code></pre></div><p>将.pub内容复制，来到GitHub的 Settings&gt; SSH and GPG Keys，点击New SSH key，填写Title，Key type 默认Authenticaiton Key，粘贴到Key的区域，点击Add SSH key</p>
<p>输入下面的命令测试连接：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh -T git@github.com
</span></span></code></pre></div><p>在 <em><strong>~/.ssh</strong></em> 目录生成SSH密钥对（ed25519）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> ~/.ssh/
</span></span><span class="line"><span class="cl">ssh-keygen -t ed25519 -C <span class="s2">&#34;hugo-deploy-key&#34;</span> -f ./hugo_deploy_key -N <span class="s2">&#34;&#34;</span>
</span></span></code></pre></div><p>复制.pub公钥的内容，到 Public 仓库 Settings &gt; Deploy keys，点击 Add deploy key，输入Title、Key，勾选“Allow write access”。
复制私钥的内容（没有扩展名的文件），到到 Private 仓库 Settings &gt; Secrets and variables &gt; Actions，点击 New repository secret，输入Name、Secret，将私钥的内容粘贴到 Secret 的区域（注意保留头尾两行，最后要有一行空行），点击 Add secret。</p>
<p>回到本地 hugoblog 博客目录，新建一个 <strong>.gitignore</strong> 文件，根据情况添加内容：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Generated files by hugo</span>
</span></span><span class="line"><span class="cl">/public/
</span></span><span class="line"><span class="cl">/resources/_gen/
</span></span><span class="line"><span class="cl">/assets/jsconfig.json
</span></span><span class="line"><span class="cl">hugo_stats.json
</span></span><span class="line"><span class="cl">hugo-wfl-edit.yaml
</span></span><span class="line"><span class="cl"><span class="c1"># Executable may be added to repository</span>
</span></span><span class="line"><span class="cl">hugo.exe
</span></span><span class="line"><span class="cl">hugo.darwin
</span></span><span class="line"><span class="cl">hugo.linux
</span></span><span class="line"><span class="cl"><span class="c1"># Temporary lock file while building</span>
</span></span><span class="line"><span class="cl">/.hugo_build.lock
</span></span><span class="line"><span class="cl"><span class="c1"># Others</span>
</span></span><span class="line"><span class="cl">.DS_Store
</span></span><span class="line"><span class="cl">node_modules
</span></span><span class="line"><span class="cl">dist
</span></span><span class="line"><span class="cl">tmp
</span></span></code></pre></div><p>创建工作流文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir -p .github/workflows
</span></span><span class="line"><span class="cl">touch .github/workflows/hugo.yaml
</span></span></code></pre></div><p><strong>hugo.yaml</strong> 内容，注意替换自己的信息</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to Public Repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># Checkout</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Checkout private repo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="l">recursive</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># SSH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup SSH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">webfactory/ssh-agent@v0.9.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">ssh-private-key</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.HUGO_DEPLOY_KEY }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># Install Hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.145.0&#34;</span><span class="w"> </span><span class="c"># 填你的hugo版本</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># Build the Hugo site</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build Hugo site</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># Deploy to the public repo via SSH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to public repository</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          rm -rf deploy-repo
</span></span></span><span class="line"><span class="cl"><span class="sd">          git clone --single-branch --branch main git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git deploy-repo
</span></span></span><span class="line"><span class="cl"><span class="sd">          cd deploy-repo
</span></span></span><span class="line"><span class="cl"><span class="sd">          rm -rf *
</span></span></span><span class="line"><span class="cl"><span class="sd">          cp -r ../public/* .
</span></span></span><span class="line"><span class="cl"><span class="sd">          git config user.email &#34;example@gmail.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          git config user.name &#34;username&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          git add .
</span></span></span><span class="line"><span class="cl"><span class="sd">          git commit -m &#34;Auto deploy Hugo site $(date &#39;+%Y-%m-%d %H:%M:%S&#39;)&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          git push origin main</span><span class="w">
</span></span></span></code></pre></div><p>配置用户名和邮箱、关联远程 Private 仓库，add commit push</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 注意替换</span>
</span></span><span class="line"><span class="cl">git config user.email “example@gmail.com”
</span></span><span class="line"><span class="cl">git config user.name <span class="s2">&#34;username&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 查看配置</span>
</span></span><span class="line"><span class="cl">git config -l
</span></span><span class="line"><span class="cl">git remote add origin git@github.com:username/hugo-source-code.git
</span></span><span class="line"><span class="cl">git add .
</span></span><span class="line"><span class="cl">git commit -m <span class="s2">&#34;First commit&#34;</span>
</span></span><span class="line"><span class="cl">git push -u origin main
</span></span></code></pre></div><p>然后到Private 仓库的 Actions 界面看是否 run 成功</p>
<p>参考 <a href="https://gohugo.io/">Hugo</a> 官网</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><div id="tw-comment"></div>
<script>
  
  const getStoredTheme = () =>
    localStorage.getItem("pref-theme") === "light"
      ? "light"
      : "dark";
  const setGiscusTheme = () => {
    const sendMessage = (message) => {
      const iframe = document.querySelector("iframe.giscus-frame");
      if (iframe) {
        iframe.contentWindow.postMessage(
          { giscus: message },
          "https://giscus.app"
        );
      }
    };
    sendMessage({ setConfig: { theme: getStoredTheme() } });
  };

  document.addEventListener("DOMContentLoaded", () => {
    const giscusAttributes = {
      src: "https://giscus.app/client.js",
      "data-repo": "ninjagopher\/ninjagopher.github.io",
      "data-repo-id": "R_kgDOOUw7BA",
      "data-category": "Announcements",
      "data-category-id": "DIC_kwDOOUw7BM4Co1cz",
      "data-mapping": "pathname",
      "data-strict": "0",
      "data-reactions-enabled": "1",
      "data-emit-metadata": "0",
      "data-input-position": "bottom",
      "data-theme": getStoredTheme(),
      "data-lang": "zh-CN",
      "data-loading": "lazy",
      crossorigin: "anonymous",
    };

    
    const giscusScript = document.createElement("script");
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    document.querySelector("#tw-comment").appendChild(giscusScript);

    
    const themeSwitcher = document.querySelector("#theme-toggle");
    if (themeSwitcher) {
      themeSwitcher.addEventListener("click", setGiscusTheme);
    }
    const themeFloatSwitcher = document.querySelector("#theme-toggle-float");
    if (themeFloatSwitcher) {
      themeFloatSwitcher.addEventListener("click", setGiscusTheme);
    }
  });
</script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://ninjagopher.github.io/">NJGF</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
