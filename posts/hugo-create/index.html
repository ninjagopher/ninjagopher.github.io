<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Hugo Create (Composing) | My New Hugo Site</title>
<meta name="keywords" content="">
<meta name="description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。
本地部署
这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。
首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）
dnf info hugo # 或者：dnf repoquery hugo
我在 GitHub 下载的最新版，通过命令解压：
tar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz
解压后把 hugo 这个文件移动到 /usr/local/bin 目录
sudo mv hugo /usr/local/bin
查看 Hugo 版本：
hugo version
创建本地博客、进入博客目录
hugo new site &lt;hugoblog&gt; # 注意替换名字
cd &lt;hugoblog&gt;
安装主题
在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：
# 注意下面的4条命令都要在博客根目录下运行
git init
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
# needed when you reclone your repo (submodules may not get cloned automatically)
git submodule update --init --recursive
# update
git submodule update --remote --merge
然后运行下面的命令应用主题">
<meta name="author" content="">
<link rel="canonical" href="https://ninjagopher.github.io/posts/hugo-create/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://ninjagopher.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ninjagopher.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ninjagopher.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ninjagopher.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://ninjagopher.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://ninjagopher.github.io/posts/hugo-create/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://ninjagopher.github.io/posts/hugo-create/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Hugo Create (Composing)">
  <meta property="og:description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。
本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。
首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）
dnf info hugo # 或者：dnf repoquery hugo 我在 GitHub 下载的最新版，通过命令解压：
tar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz 解压后把 hugo 这个文件移动到 /usr/local/bin 目录
sudo mv hugo /usr/local/bin 查看 Hugo 版本：
hugo version 创建本地博客、进入博客目录
hugo new site &lt;hugoblog&gt; # 注意替换名字 cd &lt;hugoblog&gt; 安装主题
在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：
# 注意下面的4条命令都要在博客根目录下运行 git init git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod # needed when you reclone your repo (submodules may not get cloned automatically) git submodule update --init --recursive # update git submodule update --remote --merge 然后运行下面的命令应用主题">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-04-06T15:21:20+08:00">
    <meta property="article:modified_time" content="2025-04-06T15:21:20+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hugo Create (Composing)">
<meta name="twitter:description" content="之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。
本地部署
这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。
首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）
dnf info hugo # 或者：dnf repoquery hugo
我在 GitHub 下载的最新版，通过命令解压：
tar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz
解压后把 hugo 这个文件移动到 /usr/local/bin 目录
sudo mv hugo /usr/local/bin
查看 Hugo 版本：
hugo version
创建本地博客、进入博客目录
hugo new site &lt;hugoblog&gt; # 注意替换名字
cd &lt;hugoblog&gt;
安装主题
在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：
# 注意下面的4条命令都要在博客根目录下运行
git init
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
# needed when you reclone your repo (submodules may not get cloned automatically)
git submodule update --init --recursive
# update
git submodule update --remote --merge
然后运行下面的命令应用主题">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://ninjagopher.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Hugo Create (Composing)",
      "item": "https://ninjagopher.github.io/posts/hugo-create/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Hugo Create (Composing)",
  "name": "Hugo Create (Composing)",
  "description": "之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。\n本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。\n首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）\ndnf info hugo # 或者：dnf repoquery hugo 我在 GitHub 下载的最新版，通过命令解压：\ntar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz 解压后把 hugo 这个文件移动到 /usr/local/bin 目录\nsudo mv hugo /usr/local/bin 查看 Hugo 版本：\nhugo version 创建本地博客、进入博客目录\nhugo new site \u0026lt;hugoblog\u0026gt; # 注意替换名字 cd \u0026lt;hugoblog\u0026gt; 安装主题\n在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：\n# 注意下面的4条命令都要在博客根目录下运行 git init git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod # needed when you reclone your repo (submodules may not get cloned automatically) git submodule update --init --recursive # update git submodule update --remote --merge 然后运行下面的命令应用主题\n",
  "keywords": [
    
  ],
  "articleBody": "之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。\n本地部署 这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。\n首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过dnf install hugo命令安装，否则到 GitHub 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）\ndnf info hugo # 或者：dnf repoquery hugo 我在 GitHub 下载的最新版，通过命令解压：\ntar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz 解压后把 hugo 这个文件移动到 /usr/local/bin 目录\nsudo mv hugo /usr/local/bin 查看 Hugo 版本：\nhugo version 创建本地博客、进入博客目录\nhugo new site # 注意替换名字 cd 安装主题\n在 Hugo Themes 找自己喜欢的主题，这里以 PaperMod 主题举例，通过submodule的方式安装：\n# 注意下面的4条命令都要在博客根目录下运行 git init git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod # needed when you reclone your repo (submodules may not get cloned automatically) git submodule update --init --recursive # update git submodule update --remote --merge 然后运行下面的命令应用主题\necho \"theme = 'PaperMod'\" \u003e\u003e hugo.toml 新建一篇文章\nhugo new content ./content/posts/my-first-post.md 启动本地服务器（新建的文章默认是草稿，-D参数表示构建草稿内容）\nhugo server -D GitHub Actions 自动部署 创建一个 Public 仓库，仓库名为 .github.io，创建的时候添加一个 README.md 文件（不添加的话仓库没有分支，会影响后面的工作流），然后再创建一个 Private 仓库，可以命名为 hugo-source-code，不需要添加任何文件。\n生成SHH密钥对（rsa）用于本地连接GitHub：\nssh-keygen -t rsa -b 4096 -C 将.pub内容复制，来到GitHub的 Settings\u003e SSH and GPG Keys，点击New SSH key，填写Title，Key type 默认Authenticaiton Key，粘贴到Key的区域，点击Add SSH key\n输入下面的命令测试连接：\nssh -T git@github.com 在 ~/.ssh 目录生成SSH密钥对（ed25519）：\ncd ~/.ssh/ ssh-keygen -t ed25519 -C \"hugo-deploy-key\" -f ./hugo_deploy_key -N \"\" 复制.pub公钥的内容，到 Public 仓库 Settings \u003e Deploy keys，点击 Add deploy key，输入Title、Key，勾选“Allow write access”。 复制私钥的内容（没有扩展名的文件），到到 Private 仓库 Settings \u003e Secrets and variables \u003e Actions，点击 New repository secret，输入Name、Secret，将私钥的内容粘贴到 Secret 的区域（注意保留头尾两行，最后要有一行空行），点击 Add secret。\n回到本地 hugoblog 博客目录，新建一个 .gitignore 文件，根据情况添加内容：\n# Generated files by hugo /public/ /resources/_gen/ /assets/jsconfig.json hugo_stats.json hugo-wfl-edit.yaml # Executable may be added to repository hugo.exe hugo.darwin hugo.linux # Temporary lock file while building /.hugo_build.lock # Others .DS_Store node_modules dist tmp 创建工作流文件：\nmkdir -p .github/workflows touch .github/workflows/hugo.yaml hugo.yaml 内容，注意替换自己的信息\nname: Deploy to Public Repo on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: # Checkout - name: Checkout private repo uses: actions/checkout@v4 with: submodules: recursive fetch-depth: 0 # SSH - name: Setup SSH uses: webfactory/ssh-agent@v0.9.1 with: ssh-private-key: ${{ secrets.HUGO_DEPLOY_KEY }} # Install Hugo - name: Set up Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \"0.145.0\" # 填你的hugo版本 # Build the Hugo site - name: Build Hugo site run: hugo # Deploy to the public repo via SSH - name: Deploy to public repository run: | rm -rf deploy-repo git clone --single-branch --branch main git@github.com:/.github.io.git deploy-repo cd deploy-repo rm -rf * cp -r ../public/* . git config user.email \"example@gmail.com\" git config user.name \"username\" git add . git commit -m \"Auto deploy Hugo site $(date '+%Y-%m-%d %H:%M:%S')\" git push origin main 配置用户名和邮箱、关联远程 Private 仓库，add commit push\n# 注意替换 git config user.email “example@gmail.com” git config user.name \"username\" # 查看配置 git config -l git remote add origin git@github.com:username/hugo-source-code.git git add . git commit -m \"First commit\" git push -u origin main 然后到Private 仓库的 Actions 界面看是否 run 成功\n参考 Hugo 官网\n",
  "wordCount" : "414",
  "inLanguage": "en",
  "datePublished": "2025-04-06T15:21:20+08:00",
  "dateModified": "2025-04-06T15:21:20+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ninjagopher.github.io/posts/hugo-create/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ninjagopher.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ninjagopher.github.io/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Hugo Create (Composing)
    </h1>
    <div class="post-meta"><span title='2025-04-06 15:21:20 +0800 +0800'>April 6, 2025</span>

</div>
  </header> 
  <div class="post-content"><p>之前一直用 Hexo 作静态博客，发现生成速度确实有点感人，最近研究了一下常见的几个博客工具，最终选择了 Hugo，以下是具体的步骤。</p>
<h3 id="本地部署">本地部署<a hidden class="anchor" aria-hidden="true" href="#本地部署">#</a></h3>
<p>这里在 Fedora Linux 上搭建，其他操作系统的步骤也是差不多的。</p>
<p>首先使用内置的包管理器查看是否是最新版本（dnf 是 Fedora 内置的包管理器），是则通过<code>dnf install hugo</code>命令安装，否则到 <a href="https://github.com/gohugoio/hugo/releases">GitHub</a> 下载最新版本 Hugo（hugo_extended_withdeploy_x.xxx.x_linux-amd64.tar.gz）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dnf info hugo <span style="color:#75715e"># 或者：dnf repoquery hugo</span>
</span></span></code></pre></div><p>我在 GitHub 下载的最新版，通过命令解压：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tar -xzvf hugo_extended_withdeploy_0.xxx.0_linux-amd64.tar.gz
</span></span></code></pre></div><p>解压后把 <strong>hugo</strong> 这个文件移动到 <em><strong>/usr/local/bin</strong></em> 目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo mv hugo /usr/local/bin
</span></span></code></pre></div><p>查看 Hugo 版本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo version
</span></span></code></pre></div><p>创建本地博客、进入博客目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new site &lt;hugoblog&gt; <span style="color:#75715e"># 注意替换名字</span>
</span></span><span style="display:flex;"><span>cd &lt;hugoblog&gt;
</span></span></code></pre></div><p>安装主题</p>
<p>在 <a href="https://themes.gohugo.io/">Hugo Themes</a> 找自己喜欢的主题，这里以 <a href="https://github.com/adityatelange/hugo-PaperMod">PaperMod</a> 主题举例，通过submodule的方式安装：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 注意下面的4条命令都要在博客根目录下运行</span>
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git submodule add --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
</span></span><span style="display:flex;"><span><span style="color:#75715e"># needed when you reclone your repo (submodules may not get cloned automatically)</span>
</span></span><span style="display:flex;"><span>git submodule update --init --recursive
</span></span><span style="display:flex;"><span><span style="color:#75715e"># update</span>
</span></span><span style="display:flex;"><span>git submodule update --remote --merge
</span></span></code></pre></div><p>然后运行下面的命令应用主题</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;theme = &#39;PaperMod&#39;&#34;</span> &gt;&gt; hugo.toml
</span></span></code></pre></div><p>新建一篇文章</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new content ./content/posts/my-first-post.md
</span></span></code></pre></div><p>启动本地服务器（新建的文章默认是草稿，<code>-D</code>参数表示构建草稿内容）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo server -D 
</span></span></code></pre></div><h3 id="github-actions-自动部署">GitHub Actions 自动部署<a hidden class="anchor" aria-hidden="true" href="#github-actions-自动部署">#</a></h3>
<p>创建一个 <strong>Public</strong> 仓库，仓库名为 <em><strong>&lt;username&gt;.github.io</strong></em>，创建的时候添加一个 <strong>README.md</strong> 文件（不添加的话仓库没有分支，会影响后面的工作流），然后再创建一个 <strong>Private</strong> 仓库，可以命名为 hugo-source-code，不需要添加任何文件。</p>
<p>生成SHH密钥对（rsa）用于本地连接GitHub：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh-keygen -t rsa -b <span style="color:#ae81ff">4096</span> -C &lt;username@example.com&gt;
</span></span></code></pre></div><p>将.pub内容复制，来到GitHub的 Settings&gt; SSH and GPG Keys，点击New SSH key，填写Title，Key type 默认Authenticaiton Key，粘贴到Key的区域，点击Add SSH key</p>
<p>输入下面的命令测试连接：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh -T git@github.com
</span></span></code></pre></div><p>在 <em><strong>~/.ssh</strong></em> 目录生成SSH密钥对（ed25519）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/.ssh/
</span></span><span style="display:flex;"><span>ssh-keygen -t ed25519 -C <span style="color:#e6db74">&#34;hugo-deploy-key&#34;</span> -f ./hugo_deploy_key -N <span style="color:#e6db74">&#34;&#34;</span>
</span></span></code></pre></div><p>复制.pub公钥的内容，到 Public 仓库 Settings &gt; Deploy keys，点击 Add deploy key，输入Title、Key，勾选“Allow write access”。
复制私钥的内容（没有扩展名的文件），到到 Private 仓库 Settings &gt; Secrets and variables &gt; Actions，点击 New repository secret，输入Name、Secret，将私钥的内容粘贴到 Secret 的区域（注意保留头尾两行，最后要有一行空行），点击 Add secret。</p>
<p>回到本地 hugoblog 博客目录，新建一个 <strong>.gitignore</strong> 文件，根据情况添加内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Generated files by hugo</span>
</span></span><span style="display:flex;"><span>/public/
</span></span><span style="display:flex;"><span>/resources/_gen/
</span></span><span style="display:flex;"><span>/assets/jsconfig.json
</span></span><span style="display:flex;"><span>hugo_stats.json
</span></span><span style="display:flex;"><span>hugo-wfl-edit.yaml
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Executable may be added to repository</span>
</span></span><span style="display:flex;"><span>hugo.exe
</span></span><span style="display:flex;"><span>hugo.darwin
</span></span><span style="display:flex;"><span>hugo.linux
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Temporary lock file while building</span>
</span></span><span style="display:flex;"><span>/.hugo_build.lock
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Others</span>
</span></span><span style="display:flex;"><span>.DS_Store
</span></span><span style="display:flex;"><span>node_modules
</span></span><span style="display:flex;"><span>dist
</span></span><span style="display:flex;"><span>tmp
</span></span></code></pre></div><p>创建工作流文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p .github/workflows
</span></span><span style="display:flex;"><span>touch .github/workflows/hugo.yaml
</span></span></code></pre></div><p><strong>hugo.yaml</strong> 内容，注意替换自己的信息</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy to Public Repo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">deploy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Checkout</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout private repo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">submodules</span>: <span style="color:#ae81ff">recursive</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">fetch-depth</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># SSH</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Setup SSH</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">webfactory/ssh-agent@v0.9.1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">ssh-private-key</span>: <span style="color:#ae81ff">${{ secrets.HUGO_DEPLOY_KEY }}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Install Hugo</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Set up Hugo</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">peaceiris/actions-hugo@v3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">hugo-version</span>: <span style="color:#e6db74">&#34;0.145.0&#34;</span> <span style="color:#75715e"># 填你的hugo版本</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Build the Hugo site</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build Hugo site</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">hugo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Deploy to the public repo via SSH</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy to public repository</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          rm -rf deploy-repo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git clone --single-branch --branch main git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git deploy-repo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          cd deploy-repo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          rm -rf *
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          cp -r ../public/* .
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git config user.email &#34;example@gmail.com&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git config user.name &#34;username&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git add .
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git commit -m &#34;Auto deploy Hugo site $(date &#39;+%Y-%m-%d %H:%M:%S&#39;)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          git push origin main</span>
</span></span></code></pre></div><p>配置用户名和邮箱、关联远程 Private 仓库，add commit push</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 注意替换</span>
</span></span><span style="display:flex;"><span>git config user.email “example@gmail.com”
</span></span><span style="display:flex;"><span>git config user.name <span style="color:#e6db74">&#34;username&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看配置</span>
</span></span><span style="display:flex;"><span>git config -l
</span></span><span style="display:flex;"><span>git remote add origin git@github.com:username/hugo-source-code.git
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;First commit&#34;</span>
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>然后到Private 仓库的 Actions 界面看是否 run 成功</p>
<p>参考 <a href="https://gohugo.io/">Hugo</a> 官网</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://ninjagopher.github.io/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
